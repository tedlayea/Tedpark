<div>
  <span id="button"> <%= link_to "Spots", spots_path %></span><span id="tab">
  <span id="button"><%= link_to "Favourites", favourites_path %> </span>
<div>
<svg  id="circlular" height="100" width="100">
    <circle id="circlular_button" cx="50" cy="50" r="50" fill="green" />
    <!-- <text fill="Black" font-size="28" font-family="Segoe UI Light" x="130" y="90">
      <%= link_to "Pin", favourites_path  %> -->
    </text>
</svg>
<p id="google_map"> </p>
<div id="information_board">
  <button id="pin" >Pin</button>
  <p id="info"> </p>
    <%= image_tag("where_am_I.png", :alt => "Where I am?", :id=>"current_map") %>
</div>
<div id="form">
  <%= render "form" %>
</div>

<script>
  $(document).ready(function(){
    var pin_button=$("#pin");
    pin_button.on("click",getLocation);
    function getLocation(){
    navigator.geolocation.getCurrentPosition(disply);
    function disply(position) {
      var long = position.coords.longitude
      var lat = position.coords.latitude
      $("#google_map").html("<button>Use Google Map</button>");
      var mapUrl = "http://maps.google.com/maps/api/staticmap?center="+lat+','+long+'&zoom=19&size=600x600&maptype=roadmap&sensor=false';
      var info_image=$("#current_map").attr("src",mapUrl);
      pin_button.hide()
      // $("#circlular_button").css({"background-color":"red","color":"Yellow"})
      $('input[name="spot[longitude]"]').val(long);
      $('input[name="spot[latitude]"]').val(lat);
      $("#google_map").on("click",strartGoogleMap)
      function strartGoogleMap()
      {
        console.log("google map started");
      }
    }


  }

  })

</script>
